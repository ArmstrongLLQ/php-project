<?php
    require_once 'SqlHelper.class.php';
    //该类是业务逻辑类，完成对doaj表的操作
    // 一个函数获取总共有多少页，
    class DoajService{
        public function getPageCount($pagesize){
           $sql = "select count(id) from doaj_data";
           $sql_helper = new SqlHelper();
           $res = $sql_helper->executeDql($sql);
           
           if ($row = mysqli_fetch_row($res)){
               $page_count = ceil($row[0] / $pagesize);
           }
           
           mysqli_free_result($res);
           $sql_helper->closeConnect();
           
           return $page_count;
        }
        
    }
?>